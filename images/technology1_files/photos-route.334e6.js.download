(window.webpackJsonp=window.webpackJsonp||[]).push([["photos-route"],{"3p8y":function(e,t,a){e.exports={navHeight:"62px",containerLayout:"PrOBO",modalBorderRadius:"4px",wrapper:"WMwuA",container:"_1OYbO PrOBO",stickyHeaderContainer:"_33qjA",stickyHeaderContainerInsideModal:"_324Yk _33qjA",stickyHeaderContainerOutsideModal:"_1u7Bx _33qjA",stickyHeader:"_2-NN4"}},"8hMo":function(e,t,a){e.exports={resetText:"_1eXFm",colorBlack:"#111",container:"_23nro",paragraph:"_290Pa _1eXFm",truncated:"_1N4YL",button:"_1c3zC"}},"8ogu":function(e,t,a){e.exports={colorGrey400:"#d1d1d1",colorGrey700:"#767676",fontWeightMedium:"xLon9",lineHeightTitle:"U8wGh",lineHeightCopy:"_13hUA",containerPaddingUnit:"16px",cellPaddingUnit:"8px",headerFontSize:"21px",smallFontSize:"12px",placeholderBackground:"_2VWD4",container:"_2inGn",cell:"_25hJ5",col:"_3QUjw",containerTitle:"_2F-Wi _2inGn",containerFooter:"_1jwED _2inGn",title:"_2SUYt U8wGh",datePublished:"_1QjX3",p:"_12tDI",stats:"_2Mfyb _2inGn",stat:"_1Eyon _25hJ5 _3QUjw",statLabel:"_3DKoV",statLabelIcon:"_1Lv3B",statLabelText:"_3XpFR xLon9",statValue:"_2MB4P",statValueTotal:"_33TT8 _13hUA",statValueDelta:"_3tx78",metadataItemName:"_1BtRQ",hr:"i_eho",metadata:"_3lSAR _2inGn",metadataItem:"z-nkg _25hJ5 _3QUjw",metadataItemValue:"_2MzDl",statValueTotalPlaceholder:"_2qIX_ _2VWD4",statValueDeltaPlaceholder:"_2gCEs _2VWD4"}},C4Tp:function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",gutter:"12px",placeholderBackground:"_2VWD4",heading:"_1-q17 _27Bp2",placeholderItem:"_2x0NQ _2VWD4"}},Ha4l:function(e,t,a){e.exports={descriptionContainer:"_1WPVp"}},OUqd:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a("q1tI"),n=a.n(o),c=a("SDew");const s=Object(c.e)(JSON.stringify,e=>e.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,"\\u003C!--"));var r=({jsonLD:e})=>{const t=Object(o.useMemo)(()=>s(e),[e]);return n.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t}})}},Qx4Z:function(e,t,a){e.exports={colorWhite:"#fff",colorBlue:"#007fff",colorDarkBlue:"#006aff",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",container:"_307c3",actions:"_3-6v7",cell:"_2iWc-",buttonCell:"_27vvN _2iWc-",photographer:"HAAez _2iWc-",downloadButtonCell:"_13Q- _27vvN _2iWc-",downloadButton:"_1AA_u",editPhotoButton:"_2CQGn",paginationLink:"FeDt5 _27vvN _2iWc-",availableForHireLabel:"_3wQNE"}},UzCZ:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ra}));var o=a("SDew"),n=a("q1tI"),c=a.n(n),s=a("/MKj"),r=a("Ty5D"),i=a("b2r9"),l=a("acyj"),m=a("QfYr"),d=a("OcE/"),u=a("pq3u"),h=a("J4Es"),p=a("cHeK"),b=a("uFXZ"),g=a("JzW6"),j=a("m3R1"),O=a("jRy8"),I=a("Tz5c"),E=a("D6yk"),_=a("IVTL"),v=a("Jekn"),y=a("Wdkd"),D=a("AcPn"),f=a("uDtJ"),N=a("aMqU"),C=a("C8EU"),w=a("GBJA");var R=Object(w.a)("M27.5 18.08a1 1 0 0 0-1.42 0l-9.08 8.59v-23.67a1 1 0 0 0-2 0v23.67l-9.08-8.62a1 1 0 1 0-1.38 1.45l10.77 10.23a1.19 1.19 0 0 0 .15.09.54.54 0 0 0 .16.1.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1l.15-.09 10.77-10.23a1 1 0 0 0 .04-1.42z");var T=Object(w.a)("M31.8 15.1l-.2-.4c-3.5-6.9-9.7-11.5-15.6-11.5-6.3 0-12.3 4.5-15.7 11.7l-.2.4c-.2.5-.2 1.1 0 1.6l.2.4c3.6 7 9.7 11.5 15.6 11.5 6.3 0 12.3-4.5 15.6-11.6l.2-.4c.4-.5.4-1.2.1-1.7zm-2 1.2c-3 6.5-8.3 10.5-13.8 10.5-5.2 0-10.6-4.1-13.8-10.4l-.2-.4.1-.3c3.1-6.5 8.4-10.5 13.9-10.5 5.2 0 10.6 4.1 13.8 10.4l.2.4-.2.3zm-13.8-6.6c-3.5 0-6.3 2.8-6.3 6.3s2.8 6.3 6.3 6.3 6.3-2.8 6.3-6.3-2.8-6.3-6.3-6.3zm0 10.6c-2.4 0-4.3-1.9-4.3-4.3s1.9-4.3 4.3-4.3 4.3 1.9 4.3 4.3-1.9 4.3-4.3 4.3z"),x=a("+nE3"),P=a("GVko"),S=a("6SPB"),M=a("pj8H"),L=a("phiu"),F=a("DYbG");const H=e=>"ƒ/"+e,k=e=>e+"s",A=e=>e+"mm";var B,G=a("8ogu"),z=a.n(G);!function(e){e[e.views=0]="views",e[e.downloads=1]="downloads"}(B||(B={}));const V=O.u(e=>I.r(e)||I.s(e)?O.F(e):O.B),W=({photo:e,statRemoteData:t})=>{const a=Object(o.j)(t,O.n(V),O.s);switch(a._tag){case"RemoteSuccess":{const t=a.value;return c.a.createElement("dd",{className:z.a.statValue},c.a.createElement("span",{className:z.a.statValueTotal},t.total.toLocaleString()),c.a.createElement("span",{className:z.a.statValueDelta},(({stat:e,photo:t})=>{const a=Object(o.j)(t.created_at,D.c),n=new Date,c=a<Object(L.a)(n,1)?O.F(e.historical.change):O.B;return Object(o.j)(c,O.x(e=>Object(N.e)(e)+" since last month"),O.p(()=>"since publishing"))})({stat:t,photo:e})))}case"RemotePending":return c.a.createElement("dd",{className:z.a.statValue},c.a.createElement("div",{className:z.a.statValueTotalPlaceholder}),c.a.createElement("div",{className:z.a.statValueDeltaPlaceholder}))}},Z=({photo:e,type:t,statRemoteData:a})=>{const o=(e=>{switch(e){case B.views:return T;case B.downloads:return R}})(t);return c.a.createElement("div",{className:z.a.stat},c.a.createElement("dt",{className:z.a.statLabel},c.a.createElement(o,{className:z.a.statLabelIcon}),c.a.createElement("span",{className:z.a.statLabelText},(e=>{switch(e){case B.views:return"Views";case B.downloads:return"Downloads"}})(t))),W({photo:e,statRemoteData:a}))},U=({photo:e,statsRemoteData:t})=>c.a.createElement("dl",{className:z.a.stats},Z({photo:e,type:B.views,statRemoteData:Object(o.j)(t,I.t(e=>e.views))}),Z({photo:e,type:B.downloads,statRemoteData:Object(o.j)(t,I.t(e=>e.downloads))}),c.a.createElement("div",{className:z.a.stat})),q=({photo:e,maybeCachedPhotoStats:t,photoStatsRemoteData:a})=>Object(o.j)(t,O.x(t=>U({photo:e,statsRemoteData:I.x({views:t.views,downloads:t.downloads})})),O.b(()=>Object(o.j)(a,I.h(()=>O.B,()=>O.F(U({photo:e,statsRemoteData:I.v})),e=>O.F(c.a.createElement("div",{className:z.a.container},c.a.createElement("div",{className:z.a.cell},c.a.createElement("p",{className:z.a.p},"Sorry, there was an error loading stats. Please try again later.")))),t=>O.F(U({photo:e,statsRemoteData:I.x({views:t.views,downloads:t.downloads})})))))),Q=({photo:e})=>{const t=(({photo:e})=>[{name:"Camera Make",value:Object(o.j)(O.m(e.exif.make),O.h(F.i.is))},{name:"Camera Model",value:O.m(e.exif.model)},{name:"Focal Length",value:Object(o.j)(O.m(e.exif.focal_length),O.x(A))},{name:"Aperture",value:Object(o.j)(O.m(e.exif.aperture),O.x(H))},{name:"Shutter Speed",value:Object(o.j)(O.m(e.exif.exposure_time),O.x(k))},{name:"ISO",value:O.m(e.exif.iso)},{name:"Dimensions",value:O.F(`${e.width} × ${e.height}`)}].map(({name:e,value:t})=>({name:e,value:Object(o.j)(t,O.p(()=>"--"))})))({photo:e});return c.a.createElement("dl",{className:z.a.metadata},t.map(({name:e,value:t})=>c.a.createElement("div",{key:e,className:z.a.metadataItem},c.a.createElement("dt",{className:z.a.metadataItemName},e),c.a.createElement("dd",{className:z.a.metadataItemValue},t))))},J=({photo:e,photoFullRemoteData:t})=>x.g(e)?O.F(Q({photo:e})):Object(o.j)(t,I.h(()=>O.B,()=>O.F(c.a.createElement("div",{className:z.a.container},c.a.createElement("div",{className:z.a.cell},c.a.createElement(S.a,{padContentBelow:!1})))),e=>O.F(c.a.createElement("div",{className:z.a.container},c.a.createElement("div",{className:z.a.cell},c.a.createElement("p",{className:z.a.p},"Sorry, there was an error loading metadata. Please try again later.")))),e=>O.F(Q({photo:e}))));var K=({photo:e})=>{const t=Object(n.useMemo)(P.a,[]),a=Object(n.useMemo)(P.c,[]),s=Object(C.a)(a=>t(a,e.id)),r=Object(C.a)(t=>a(t,e.id)),i=Object(o.j)(e.created_at,D.c),l=x.e(e)?O.F(e.statistics):O.B,m=Object(f.b)({render:o.i})([{key:"stats",maybeEl:q({photo:e,maybeCachedPhotoStats:l,photoStatsRemoteData:r})},{key:"metadata",maybeEl:J({photo:e,photoFullRemoteData:s})}]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:z.a.containerTitle},c.a.createElement("div",{className:z.a.cell},c.a.createElement("h2",{className:z.a.title},"Info"),c.a.createElement("span",{className:z.a.datePublished},"Published on ",c.a.createElement(M.a,{date:i,format:N.b})))),Object(f.a)(m,e=>c.a.createElement("hr",{key:"separator-"+e,className:z.a.hr})))},$=a("NbrK"),Y=a("gDEP"),X=a("bB8w"),ee=a("OM6L"),te=a("m/u0"),ae=a("dyzQ"),oe=a("Fv/u"),ne=a("4/vE"),ce=a("fVvt"),se=a.n(ce);const re=e=>({backgroundImage:Object(o.j)(["linear-gradient(hsla(0, 0%, 100%, 0.8), white 150px)",$.n(e)],ee.u(", "))}),ie=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.j)(t,O.p(()=>{return t=e,Object(Y.b)(t)({w:200,blur:20});var t})),le=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.j)(ie({rawPhotoUrl:e,maybeImgCurrentSrc:t}),re),me=oe.a.Windowed({scrollableOverlay:!0,contentClassName:se.a.modalWindowedContentModifier}),de={scrollableOverlay:!0,contentClassName:se.a.modalWindowedContentModifier};var ue=({photoId:e,rawPhotoUrl:t,children:a})=>{const[o]=Object(X.a)(ae.a),n=Object(te.b)(e,o);return c.a.createElement(ne.a,{redirectTo:{pathname:y.b.photo({photoId:e})},contentStyles:le({rawPhotoUrl:t,maybeImgCurrentSrc:n}),mobileLayout:me,tabletUpWindowedLayout:de},a)},he=a("TJpk"),pe=a.n(he),be=a("d8i8"),ge=a("yQCG"),je=a("m2xi"),Oe=a.n(je),Ie=a("s6EG"),Ee=a("9G+b"),_e=a("vjdK");const ve=Object(o.e)(y.b.photo,_e.a),ye=({photo:e,maybeSubRoute:t,user:a})=>{const n=(({user:e,photo:t})=>{const a=O.n(x.g)(t),n=O.m(t.alt_description),c=Object(o.j)(n,O.x(e=>e+" photo")),s=Object(o.j)(a,O.c(e=>ee.p(e.tags)),O.x(e=>`Free ${Oe()(e.title)} Image on Unsplash`));return Object(o.j)(O.E(c,s),O.x(([e,t])=>Object(o.j)([e,t],ee.u(" – "))),O.b(()=>s),O.b(()=>Object(o.j)(c,O.x(e=>Object(o.j)([e,"Free Image on Unsplash"],ee.u(" – "))))),O.q("HD photo by "+e.name))})({user:a,photo:e}),c=((e,t)=>{const a=["Download this free HD photo"];if(x.g(t)){const e=Object(o.j)(Object(Ee.a)(t.tags),O.q(""));a.push("of",e)}const n=O.n(x.g)(t),c=ee.c([Object(o.j)(n,O.d(e=>e.location.city)),Object(o.j)(n,O.d(e=>e.location.country))]);if(c.length>0){const e=Object(o.j)(c,ee.u(", "));a.push("in "+e)}return a.push(`by ${e.name} (@${e.username})`),Object(o.j)(a,ee.u(" "))})(a,e),s=ve({photoId:e.id,maybeSubRoute:t}),r=`Photo by ${a.name} on Unsplash`;const i=(({user:e,photo:t})=>{const a=`Download this photo by ${e.name} on Unsplash`;return Object(o.j)(ee.c([O.m(t.description),O.F(a)]),ee.u(". "))})({user:a,photo:e});return Object(Ie.g)({userOption:O.F(a),photoOption:O.F(e),title:n,description:c,socialTitleOption:O.F(r),socialDescriptionOption:O.F(i),canonicalUrl:s,disableIndex:x.g(e)&&!1===e.meta.index})};var De=a("QH2T"),fe=a("mjVK"),Ne=a("EqpS"),Ce=a("TSYQ"),we=a.n(Ce),Re=a("55Ip");var Te=Object(w.a)("M28 7.99999V26.6667c0 1.4666-1.2 2.6666-2.6667 2.6666H6.66667C5.2 29.3333 4 28.1333 4 26.6667V7.99999c0-1.46667 1.2-2.66667 2.66667-2.66667H8V2.66666h2.6667v2.66666h10.6666V2.66666H24v2.66666h1.3333c1.4667 0 2.6667 1.2 2.6667 2.66667zM6.66667 10.6667H25.3333V7.99999H6.66667v2.66671zm18.66663 16V13.3333H6.66667v13.3334H25.3333z"),xe=a("tD8i"),Pe=a("h8Sd");var Se=Object(w.a)("M13.3333 18.9333l8.8-8.8L24 12 13.3333 22.6667 8 17.3333l1.86667-1.8666 3.46663 3.4666zM28 6.66668v8.00002c0 7.3333-5.0667 14.2666-12 16-6.93333-1.7334-12-8.6667-12-16V6.66668l12-5.33334 12 5.33334zm-2.6667 1.73333L16 4.26668 6.66667 8.40001v6.26669c0 6 4.00003 11.6 9.33333 13.2 5.3333-1.6 9.3333-7.2 9.3333-13.2V8.40001z"),Me=a("wmOD"),Le=a("zPuE"),Fe=a("FXv3"),He=a("35id"),ke=a("zrLP"),Ae=a("OlR6"),Be=a("HrMy"),Ge=a("cXg/"),ze=a("wQRb"),Ve=a("B/Be"),We=a("mMcM"),Ze=a("2RSs"),Ue=a("d7Kk"),qe=a("8hMo"),Qe=a.n(qe);const Je=({containerClassName:e,shouldTruncate:t,lines:a,onRequestToggle:n,text:s})=>{const[r,i]=Object(We.a)(e=>Object(o.j)(e,Ze.d)),l=Object(ze.a)(Object(Ve.a)(()=>Object(o.j)(i,Ze.a(()=>E.V(!1),e=>Object(o.j)("function"==typeof ResizeObserver?Object(o.j)(E.I(e),E.U(E.i)):E.c,E.O(({entries:e})=>{const t=Object(o.j)(Ge.o(e),O.s);return t.target.scrollHeight>t.contentRect.height}))))),!1);return c.a.createElement("div",{className:we()(e,Qe.a.container)},c.a.createElement("p",{style:{"--truncatedTextToggleLines":a},className:we()(Qe.a.paragraph,t&&Qe.a.truncated),ref:r},s),l&&c.a.createElement(Ue.a,{type:"button",onClick:n,className:Qe.a.button},"Read more"))};var Ke=a("Ha4l"),$e=a.n(Ke);var Ye=({description:e})=>{const t=Object(ge.e)(),a=Object(ge.b)(),o=Object(be.k)(t),{shouldTruncateDescription:s}=o,r=Object(n.useCallback)(()=>{Be.b.addBreadcrumb({category:Be.a.PhotoPage,message:"request toggle truncated description"}),a.replace(Object(be.s)(e=>Object.assign(Object.assign({},e),{shouldTruncateDescription:!1===e.shouldTruncateDescription}))(t))},[a,t]);return c.a.createElement(Je,{text:e,containerClassName:$e.a.descriptionContainer,shouldTruncate:s,onRequestToggle:r,lines:3})},Xe=a("pKCy"),et=a.n(Xe);const tt=({subRoute:e,location:t,photo:a})=>({pathname:y.b.photo({photoId:a.id,maybeSubRoute:O.F(e)}),state:t.state}),at=({iconComponent:e,labelClassName:t,children:a})=>c.a.createElement("span",{className:et.a.infoContainer},c.a.createElement(e,{className:et.a.infoIcon,width:16,height:16}),c.a.createElement("span",{className:we()(et.a.infoLabel,t)},a)),ot=Object(u.e)()({authUserOption:Me.g});var nt=Object(o.j)(({photo:e,authUserOption:t,user:a})=>{const n=Object(ge.e)(),s=tt({subRoute:y.a.PhotoSubRoute.info,location:n,photo:e}),r=tt({subRoute:y.a.PhotoSubRoute.share,location:n,photo:e}),i=O.m(e.description),l=Object(o.j)(e,O.n(x.g),O.d(e=>e.location.name),O.h(F.i.is)),m=Object(o.j)(t,O.g(e=>e.id===a.id)),d={url:e.links.html,title:Object(o.j)(O.m(e.alt_description),O.q("")),text:`Thanks to ${a.name} @${a.username} for making this photo available freely on Unsplash 🎁`};return c.a.createElement("div",{className:et.a.container},c.a.createElement("div",{className:et.a.textContainer},c.a.createElement("div",{className:et.a.infoSectionContainer},Object(o.j)(l,O.A(e=>c.a.createElement(Re.a,{to:y.b.searchPhotos({query:e}),className:et.a.locationLink},c.a.createElement(at,{iconComponent:Pe.a,labelClassName:et.a.truncate},e)))),c.a.createElement(at,{iconComponent:Te},"Published on ",c.a.createElement(M.a,{date:Object(D.c)(e.created_at),format:N.b})),c.a.createElement(Re.a,{to:y.b.license({}),className:et.a.infoLink},c.a.createElement(at,{iconComponent:Se},"Free to use under the Unsplash License"))),Object(o.j)(i,O.A(e=>c.a.createElement("div",{className:et.a.descriptionContainer},c.a.createElement(Ye,{description:e}))))),c.a.createElement("div",{className:et.a.actionsContainer},m&&c.a.createElement("div",{className:et.a.editPhotoButtonContainer},c.a.createElement(He.a,{photoId:e.id,type:"default"})),c.a.createElement("div",null,c.a.createElement(Ae.a,{shareLocationDescriptor:r,shareOptions:d,renderButton:e=>c.a.createElement(Fe.a,Object.assign({tag:"button"},e,{type:"button"})),renderLink:e=>c.a.createElement(ke.a,Object.assign({},e))})),c.a.createElement("div",null,c.a.createElement(ke.a,{className:et.a.button,buttonType:Le.a.Outline,buttonSize:"small",to:s},c.a.createElement(xe.a,{className:et.a.buttonIcon}),c.a.createElement("span",{className:et.a.buttonText},"Info")))))},Object(s.c)(ot)),ct=a("M9j0"),st=a("KPJC"),rt=a("dkli"),it=a("5dpl"),lt=a("Qx4Z"),mt=a.n(lt);const dt=Object(u.c)()((e,{photoId:t})=>({photo:Object(v.a)(e,t),isLoggedIn:Object(Me.j)(e),authUserOption:Object(Me.g)(e)}));var ut=Object(o.j)(({className:e,photo:t,isLoggedIn:a,authUserOption:n})=>{const s=a?void 0:"green",r=a?"Download":"Download free",i=Object(o.j)(n,O.g(e=>e.id===t.userId));return c.a.createElement("header",{className:we()(e,mt.a.container)},c.a.createElement("div",{className:mt.a.photographer},c.a.createElement(it.b,{isAvatarVisible:!0,type:"emphasiseUsername",photo:t,renderNonSponsoredSecondaryLabel:({className:e,user:t})=>t.for_hire?c.a.createElement(it.a,{className:we()(e,mt.a.availableForHireLabel),userId:t.id}):c.a.createElement(it.d,{userId:t.id,className:e})})),c.a.createElement("div",{className:mt.a.actions},c.a.createElement("div",{className:mt.a.buttonCell},i&&c.a.createElement(He.a,{photoId:t.id,type:"default",className:mt.a.editPhotoButton}),c.a.createElement(rt.a,{photoId:t.id})),c.a.createElement("div",{className:mt.a.buttonCell},c.a.createElement(ct.a,{photoId:t.id})),c.a.createElement("div",{className:mt.a.downloadButtonCell},c.a.createElement(st.a,{photoId:t.id,type:s,label:r,className:mt.a.downloadButton,showSizesDropdown:!0}))))},Object(s.c)(dt)),ht=a("jW5K"),pt=a.n(ht),bt=a("x4cj"),gt=a("PCiO"),jt=a("KwrD"),Ot=a("PemI");var It=Object(w.a)("M14.5 19.3l-6 6h4.8V28H4v-9.3h2.7v4.8l6-6 1.8 1.8zM18.7 4v2.7h4.8l-6 6 1.9 1.9 6-6v4.8H28V4h-9.3z");var Et=Object(w.a)("M22 12h4.8v2.7h-9.5V5.2H20V10l6.1-6L28 5.9 22 12zM5.2 20H10l-6 6.1L5.9 28l6.1-6v4.8h2.7v-9.5H5.2V20z"),_t=a("RC4B"),vt=a("JOe8"),yt=a("zCdt"),Dt=a("OUqd");var ft=a("QFtp"),Nt=a("uYHa"),Ct=a("jNAd"),wt=a("aGzw"),Rt=a.n(wt);const Tt=Object(ft.unionize)({Unenhanced:Object(ft.ofType)(),Enhanced:Object(ft.ofType)()}),xt=({magicalVerticalOffset:e})=>{const t=()=>{const t=$.j(10),a=20+e,o=$.g({styles:mt.a,key:"outerHorizontalGutter"});return{TOTAL_HORIZONTAL_PADDING:2*o,TOTAL_VERTICAL_PADDING:a,HORIZONTAL_PADDING_LENGTH:$.j(o),VERTICAL_PADDING_LENGTH:t}},{TOTAL_HORIZONTAL_PADDING:a,TOTAL_VERTICAL_PADDING:n}=t(),c=$.f(1),{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:s,IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:r}={IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:$.b(`${c} - ${$.j(a)}`),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:$.b("100vh - "+$.j(n))},i=({photoDimensions:e})=>{if(Object(Ct.d)(e)){const{width:t,height:a}=e,o=t/a;return(e=>Math.ceil(e*o))(500)}return 500},l=({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a,n=i({photoDimensions:e});var c;return{minWidthLength:$.j(n),maxWidthLength:(c=r,$.b(`(${c}) * ${Object(Nt.f)(o)}`))}},m=Object(o.e)(({photoDimensions:e,isZoomedOut:t})=>{if(t){const{minWidthLength:t,maxWidthLength:o}=l({photoDimensions:e}),{isMinSizeMediaConditions:c,isConstrainedByViewportHeightMediaCondition:r}=(({photoDimensions:e})=>{const{width:t,height:o}=e,c=o/t,s=i({photoDimensions:e}),r=(l=s,Math.ceil(l*c));var l;return{isMinSizeMediaConditions:[`(max-width: ${$.j(s+a)})`,`(max-height: ${$.j(r+n)})`],isConstrainedByViewportHeightMediaCondition:`(min-aspect-ratio: ${t}/${o})`}})({photoDimensions:e});return[...c.map(e=>({mediaCondition:e,width:t})),{mediaCondition:r,width:o},{width:s}]}return[{width:c}]},e=>[{mediaCondition:Rt.a.isFixedMediaCondition,width:c},...e]),d=Object(o.e)(m,gt.f);return{getPaddingConstants:t,getImgSrcSetString:({photoDimensions:e,baseUrl:t})=>{const{width:a}=e,{lowerBound:o,upperBound:n}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a;var n;return{lowerBound:(n=500,Math.ceil(n*o)),upperBound:t}})({photoDimensions:e});return Object(gt.c)({baseUrl:t,lowerBound:o,upperBound:n,originalWidth:a,interval:300,imgixParams:{q:80}})},getMinAndMaxWidthsLengths:l,getImgSizesString:d,createFallbackSrc:e=>Object(Y.b)(e)({w:1e3,q:80})}},Pt=c.a.memo(({photo:e,magicalVerticalOffset:t,isZoomedOut:a})=>{const s=c.a.useMemo(()=>Object(o.j)(vt.a.getStandardData({photo:e}),vt.a.Union.Photo,vt.c,vt.b(e)),[e]),r=s.urls.raw,[i,l]=Object(n.useState)(!0);pt()(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{l(!1)})})});const{getImgSizesString:m,getImgSrcSetString:d,createFallbackSrc:u}=xt({magicalVerticalOffset:t}),{width:h,height:p}=s,b=Object(n.useMemo)(()=>({width:h,height:p}),[p,h]),g=Object(n.useMemo)(()=>m({isZoomedOut:a,photoDimensions:b}),[m,a,b]),j=Object(n.useCallback)(()=>d({photoDimensions:b,baseUrl:r}),[r,d,b]),I=Object(n.useMemo)(()=>u(r),[r,u]),[E]=Object(X.a)(ae.a),_=Object(Ot.a)(()=>Object(te.b)(s.id,E),[]),v=Object(n.useMemo)(()=>i?Object(o.j)(_,O.x(e=>Object(gt.g)([{url:e}])),O.p(j)):j(),[j,_,i]),y=Object(n.useMemo)(()=>O.F({sizes:g,srcSet:v,src:I,alt:Object(o.j)(O.m(s.alt_description),O.I)}),[I,g,v,s.alt_description]),D=Object(n.useMemo)(()=>_t.e(s),[s]);return c.a.createElement(yt.a,{aspectRatio:s,containerClassName:Rt.a.imagePlaceholder,responseOption:y,placeholderConfig:D})});class St extends n.PureComponent{constructor(){super(...arguments),this.onRequestMainImageToggleZoom=()=>{Be.b.addBreadcrumb({category:Be.a.PhotoPage,message:"request toggle main image zoom"}),this.trackToggleZoomableMainImageZoom(),this.toggleZoomableMainImageZoom()},this._getMainImageRenderType=Object(bt.e)(({location:e,renderType:t})=>{const a=Object(be.k)(e);return jt.a.match({Unenhanced:()=>Tt.Unenhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut}}),Enhanced:()=>Tt.Enhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut,onRequestToggleZoom:this.onRequestMainImageToggleZoom}})})(t)}),this.getMainImageRenderType=()=>{const{location:e,renderType:t}=this.props;return this._getMainImageRenderType({location:e,renderType:t})},this.renderZoomableImageOverlay=({isZoomedOut:e})=>{const t=e?It:Et;return c.a.createElement("div",{className:Rt.a.overlay},c.a.createElement("div",{className:Rt.a.overlayChild},c.a.createElement(t,{className:Rt.a.zoomToggleIcon})))},this.renderImage=()=>{const{photo:e,magicalVerticalOffset:t}=this.props;return c.a.createElement(Pt,{key:e.id,photo:e,magicalVerticalOffset:t,isZoomedOut:this.getMainImageRenderType().zoomable.isZoomedOut})},this.renderImageWithJsonLd=()=>{const{photo:e,user:t}=this.props,a=O.n(x.g)(e),n=Object(o.j)(a,O.x(e=>{const a=(({user:e,photoFull:t})=>({"@context":"https://schema.org","@type":"ImageObject",author:{"@type":"Person",name:e.name},contentLocation:Object(o.j)(O.m(t.location.name),O.x(e=>({"@type":"Place",name:e})),O.I),contentUrl:t.urls.full,thumbnail:{"@type":"ImageObject",url:t.urls.thumb},datePublished:t.created_at,description:Object(o.j)(O.m(t.alt_description),O.I),name:Object(o.j)(O.m(t.alt_description),O.I),acquireLicensePage:Object(o.e)(y.b.photo,_e.a)({photoId:t.id}),license:Object(_e.a)(y.b.license({})),width:t.width+"px",height:t.height+"px",isAccessibleForFree:!0,isFamilyFriendly:!0,caption:Object(o.j)(O.m(t.description),O.b(()=>O.m(t.alt_description)),O.I),representativeOfPage:!0}))({user:t,photoFull:e});return c.a.createElement(Dt.a,{jsonLD:a})}));return c.a.createElement(c.a.Fragment,null,Object(o.j)(n,O.H),this.renderImage())},this.renderZoomableImageButton=e=>{const{isZoomedOut:t,onRequestToggleZoom:a}=e,o=we()(Rt.a.imageButton,t?Rt.a.imageButtonZoomedOut:Rt.a.imageButtonZoomedIn);return c.a.createElement("button",{className:o,onClick:a,type:"button"},this.renderZoomableImageOverlay(e),this.renderImageWithJsonLd())},this.renderZoomableImageContainer=()=>{const{photo:e,magicalVerticalOffset:t}=this.props,{getMinAndMaxWidthsLengths:a,getPaddingConstants:o}=xt({magicalVerticalOffset:t}),n=this.getMainImageRenderType(),{isZoomedOut:s}=n.zoomable,{HORIZONTAL_PADDING_LENGTH:r,VERTICAL_PADDING_LENGTH:i}=o(),{width:l,height:m}=e,d={width:l,height:m},{minWidthLength:u,maxWidthLength:h}=a({photoDimensions:d});return c.a.createElement("div",{style:s?{padding:`${i} ${r}`}:{}},c.a.createElement("div",{style:s?{minWidth:u,maxWidth:h}:{},className:Rt.a.imageContainer},Tt.match({Unenhanced:this.renderImage,Enhanced:e=>this.renderZoomableImageButton(e.zoomable)})(n)))}}trackToggleZoomableMainImageZoom(){const{location:e,dispatch:t,photo:a}=this.props,{zoomableMainImageOptions:o}=Object(be.k)(e);o.isZoomedOut?t(Object(i.z)(a.id)):t(Object(i.A)(a.id))}toggleZoomableMainImageZoom(){const{history:e,location:t,dispatch:a}=this.props;Object(be.d)(t)&&a(Object(i.g)()),e.replace(Object(be.s)(e=>Object.assign(Object.assign({},e),{zoomableMainImageOptions:Object.assign(Object.assign({},e.zoomableMainImageOptions),{isZoomedOut:!1===e.zoomableMainImageOptions.isZoomedOut})}))(t))}render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Rt.a.isFixed},this.renderImageWithJsonLd()),c.a.createElement("div",{className:Rt.a.isZoomable},this.renderZoomableImageContainer()))}}var Mt=Object(o.j)(St,jt.d,r.i,Object(s.c)(null)),Lt=a("4raZ"),Ft=a("R3Dg"),Ht=a("RwKq"),kt=a("G4qV"),At=a("PwPQ"),Bt=a("x5qg");const Gt=e=>Object(o.j)(y.a.Union.Photos({photoId:e,maybeSubRoute:O.B}),At.a),zt=()=>{const e=Object(Bt.b)();return Object(kt.a)((t,a)=>e(t,Gt(a)),Object(bt.i)(I.t(({ids:e})=>e)))};var Vt=a("QK6j"),Wt=a("A75h"),Zt=a("XJg7"),Ut=a("lS9m"),qt=a("CdAG"),Qt=a("G/bK");const Jt=Wt.a.match({Phone:()=>12,Tablet:()=>24,Desktop:()=>24});var Kt=a("C4Tp"),$t=a.n(Kt);const Yt=()=>E.c,Xt=c.a.memo(({columnCount:e,gutter:t})=>{const a=Object(n.useMemo)(()=>ee.D(0,17).map(e=>({key:e,width:250,height:250,element:c.a.createElement("div",{className:$t.a.placeholderItem})})),[]);return c.a.createElement(Zt.a,{items:a,columnCount:Vt.f(e),columnGutter:t,rowGutter:t})}),ea=Vt.b.List(),ta=Object(o.e)(vt.a.Union.RelatedPhotos,O.F),aa=({photoId:e})=>{const t=Gt(e),[a,s]=Object(Ht.a)(),r=Object(C.a)(Wt.e),i=Jt(r),l=Object(n.useMemo)(()=>({mobileLayout:ea,columnGutter:i}),[i]),m=c.a.useMemo(()=>O.F({make:ta}),[]);return c.a.createElement("div",{ref:a},Object(o.j)(s,O.x(e=>{const a=e.width<=1e3?Vt.d:Vt.c;return c.a.createElement(Ut.a,null,c.a.createElement(Qt.a,{feedId:t,fetchPhotos:Yt,getPlaceholderEl:()=>c.a.createElement(Xt,{columnCount:a,gutter:i})},e=>c.a.createElement(vt.a.Context.Provider,{value:m},c.a.createElement(qt.a,{grid:l,photos:e,columnCount:a,rowGutter:i}))))}),O.H))},oa=e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:$t.a.heading},"Related photos"),c.a.createElement(aa,{photoId:e}));var na=c.a.memo(({photoId:e})=>{const t=Object(n.useMemo)(zt,[]),a=Object(C.a)(a=>t(a,e));return Object(o.j)(a,I.h(()=>null,()=>oa(e),()=>null,t=>ee.s(t)?null:oa(e)))}),ca=a("rd0y");const sa=[...a("yNRK").a.map(({title:e,url:t})=>({title:e,linkUrl:t})),{title:"Free pictures",linkUrl:y.b.explore({})}],ra=({originalPhotoTags:e,isLoggedIn:t})=>e.length>4&&!1===t,ia=({photoId:e})=>Object(o.e)(ra,t=>t?O.F((({photoId:e})=>ee.B({seed:e,array:sa}))({photoId:e})):O.B),la=e=>{const t=e.type===x.a.related?"Related collections":"Featured in",a=e.result_ids;return c.a.createElement(Lt.a,{relatedCollectionIds:a,heading:t})},ma=Object(u.c)()((e,t)=>({isLoggedIn:Object(Me.j)(e)}));var da=Object(o.j)(({photo:e,isLoggedIn:t})=>{const a=O.m(x.g(e)?e.related_collections:void 0),n=x.g(e)?O.F(e.tags):O.B;return c.a.createElement(c.a.Fragment,null,c.a.createElement(na,{photoId:e.id}),Object(o.j)(a,O.x(la),O.q(void 0)),Object(o.j)(n,O.x(a=>{const n=(({originalPhotoTags:e,photoId:t,isLoggedIn:a})=>{const n=ee.c([ia({photoId:t})({originalPhotoTags:e,isLoggedIn:a})]);return[...Object(o.j)(e,ee.J(ca.b)),...n]})({originalPhotoTags:a,photoId:e.id,isLoggedIn:t});return c.a.createElement(Ft.a,{headingCopy:"Related tags",tags:n,showHeading:!0,maximumResultsCount:1/0})}),O.I))},Object(s.c)(ma)),ua=a("3p8y"),ha=a.n(ua);var pa=Object(o.j)(({photo:e,children:t,maybeSubRoute:a})=>{const o=Object(ge.e)(),n=Object(be.d)(o),s=n?225:250,r=Object(C.a)(t=>Object(v.g)(t,e.id));return c.a.createElement("div",Object.assign({},Object(fe.a)(De.p)),c.a.createElement("div",{className:ha.a.wrapper},c.a.createElement(pe.a,Object.assign({},ye({photo:e,maybeSubRoute:a,user:r}))),c.a.createElement("div",null,c.a.createElement("div",{className:n?ha.a.stickyHeaderContainerInsideModal:ha.a.stickyHeaderContainerOutsideModal},c.a.createElement(ut,{photoId:e.id,className:n?ha.a.stickyHeader:void 0})),c.a.createElement(Ne.a,{photoId:e.id},c.a.createElement(Mt,{photo:e,magicalVerticalOffset:s,user:r})),c.a.createElement(nt,{photo:e,user:r})),c.a.createElement("div",{className:ha.a.container},c.a.createElement(da,{photo:e}))),t)},e=>Object(n.memo)(e)),ba=a("G954"),ga=a("5ZMw"),ja=a("SORa"),Oa=a("41dW");const Ia={utmContent:ga.e.PHOTOS_PAGE_SHARE};var Ea=({photo:e})=>{const t=e.links.html,a=Object(C.a)(t=>Object(v.g)(t,e.id)),o=Object(ba.b)(a),s=Object(Y.b)(e.urls.raw)({w:2e3}),r=Object(n.useMemo)(()=>[ja.a.facebook(),ja.a.pinterest({message:o,media:s}),ja.a.twitter({message:o}),ja.a.email()].map(e=>({type:e,url:t,trackUrlOptions:Ia})),[t,s,o]);return c.a.createElement(Oa.a,{title:"Photo by "+a.name,buttonsShareProps:r,link:t})},_a=a("ZfPj"),va=a("3q9+"),ya=a("gI8/");class Da extends n.Component{constructor(){super(...arguments),this.routeChangeSubject=new E.e,this.unmountSubject=new E.e}componentDidMount(){this.fetchDataIfNecessary()}componentDidUpdate(e){const{subRoute:t}=this.props;t!==e.subRoute&&(this.routeChangeSubject.next(),this.fetchDataIfNecessary())}fetchDataIfNecessary(){const{routeData:e,dispatch:t,history:a,staleDataOption:n}=this.props;if(Object(o.j)(n,O.v)){Object(o.j)(Object(ya.a)(e),b.a(l.a),g.g(([e])=>e),E.mb(E.Q(this.routeChangeSubject,this.unmountSubject)),E.hb(va.m([i.a.IncrementDataFetchingCounter()])),E.y(va.m([i.a.RouteDataUpdated(),i.a.DecrementDataFetchingCounter()])),E.l(0),E.O(ee.n)).subscribe(Object(_a.b)({dispatch:t,history:a}))}}componentWillUnmount(){this.unmountSubject.next(),this.unmountSubject.complete()}render(){return this.props.children}}const fa=Object(u.d)()(()=>{const e=Object(ya.b)();return(t,{routeData:a})=>({staleDataOption:e(t,a)})});var Na=Object(o.j)(Da,Object(s.c)(fa),r.i);class Ca extends n.PureComponent{constructor(){super(...arguments),this.onRootRouteLeaveSubject=new E.e}componentDidMount(){this.fetchRelatedPhotosThenCacheAndSet()}componentDidUpdate(e){this.props.routeData.photoId!==e.routeData.photoId&&(this.cleanup(),this.fetchRelatedPhotosThenCacheAndSet())}componentWillUnmount(){this.cleanup()}cleanup(){this.onRootRouteLeaveSubject.next({})}updateRelatedPhotoIdsRemoteData(e){const{dispatch:t,routeData:a}=this.props,{photoId:n}=a,c=Object(o.j)(e,I.t(e=>({lastPageFetched:1,perPage:e.length,total:e.length,ids:e}))),s=Gt(n);t(i.a.AddPhotoFeedRemoteData({feedId:s,request:c}))}fetchRelatedPhotosThenCacheAndSet(){const{routeData:e,relatedPhotoIdsRemoteData:t,dispatch:a,history:n}=this.props,{photoId:c}=e;if(!1===I.s(t)){const e=I.v;a(i.a.IncrementDataFetchingCounter()),this.updateRelatedPhotoIdsRemoteData(e);Object(o.j)(p.a.photos.getRelated({photoId:c}),b.a(l.a),g.g(([e])=>e),j.e,E.B(I.n),j.f(e=>Object(d.f)(e.results)),E.mb(this.onRootRouteLeaveSubject)).subscribe({next:e=>{Object(s.b)(()=>{Object(o.j)(e,I.y,O.k(({entities:e})=>{a(i.C(e))})),this.updateRelatedPhotoIdsRemoteData(Object(o.j)(e,I.t(({result:e})=>e)))})},complete:()=>{a(i.a.DecrementDataFetchingCounter())},error:Object(m.b)(n)})}}renderSubRoute({photo:e,subRoute:t}){const a=Object(_.b)()({photo:e});switch(t){case y.a.PhotoSubRoute.info:return c.a.createElement(K,Object.assign({},a));case y.a.PhotoSubRoute.share:return c.a.createElement(Ea,Object.assign({},a))}}renderSubRouteWithWrapper(e){const{routeData:t}=this.props;return Object(o.j)(t.maybeSubRoute,O.x(a=>c.a.createElement(Na,{subRoute:a,routeData:t},c.a.createElement(ue,{photoId:e.id,rawPhotoUrl:e.urls.raw},this.renderSubRoute({photo:e,subRoute:a})))),O.I)}render(){const{photoOption:e,routeData:t}=this.props;return Object(o.j)(e,O.x(e=>c.a.createElement(pa,{maybeSubRoute:t.maybeSubRoute,photo:e},this.renderSubRouteWithWrapper(e))),O.H)}}const wa=Object(u.d)()(()=>{const e=Object(v.h)(),t=zt();return(a,o)=>{const{photoId:n}=o.routeData;return{photoOption:e(a,n),relatedPhotoIdsRemoteData:t(a,n)}}});var Ra=Object(o.j)(Ca,Object(h.b)({routeType:h.a.DynamicRoute}),Object(s.c)(wa),r.i)},ZhgG:function(e,t,a){e.exports={colorBlack:"#111",colorWhite:"#fff",transitionSpeedBase:"0.1s",container:"_332qM",content:"_1jlc7",tooltip:"_2lnv7",tooltipMultiLine:"_1qCFx"}},aGzw:function(e,t,a){e.exports={resetBtn:"_3d86A",spacingUnit:"4px",centerItem:"_3mCZ_",colorWhite:"#fff",colorGrey100:"#f5f5f5",isFixedMediaCondition:"(max-width: 767px)",isZoomableMediaCondition:"(min-width: 768px)",imagePlaceholder:"_2yFK-",imageContainer:"_1ac-D _3mCZ_",imageButton:"_1szcv _3d86A",overlay:"_2MKkb",imageButtonZoomedIn:"_2-OhB",imageButtonZoomedOut:"_1YS_6",overlayChild:"_1w7cG",zoomToggleIcon:"_1NYtf",isFixed:"pADQw",isZoomable:"_2QvSN"}},eodw:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a("TSYQ"),n=a.n(o),c=a("q1tI"),s=a.n(c),r=a("4YUS"),i=a("ZhgG"),l=a.n(i);var m=e=>{const{children:t,label:a,bottom:o,width:c,className:i}=e,m=Object(r.b)(t.props)&&t.props.className,d=void 0!==c&&0!==c;return s.a.createElement("div",{className:n()(l.a.container,i)},s.a.cloneElement(t,Object.assign({},t.props,{className:n()([l.a.content],m)})),s.a.createElement("span",{className:n()(l.a.tooltip,d&&l.a.tooltipMultiLine),style:{width:c,bottom:o}},a))}},fVvt:function(e,t,a){e.exports={modalWindowedContentModifier:"_2AYJu"}},h8Sd:function(e,t,a){"use strict";var o=a("GBJA");t.a=Object(o.a)("M16 2.66669C9.99998 2.66669 5.33331 7.06669 5.33331 12.6667C5.33331 19.8667 12.9333 27.0667 15.3333 29.0667C15.7333 29.4267 16.2666 29.4267 16.6666 29.0667C19.0666 27.0667 26.6666 19.8667 26.6666 12.6667C26.6666 7.06669 22 2.66669 16 2.66669ZM16 18.6667C13.0666 18.6667 10.6666 16.2667 10.6666 13.3334C10.6666 10.4 13.0666 8.00002 16 8.00002C18.9333 8.00002 21.3333 10.4 21.3333 13.3334C21.3333 16.2667 18.9333 18.6667 16 18.6667Z")},pKCy:function(e,t,a){e.exports={colorGrey700:"#767676",spacingUnit:"4px",truncate:"topEO _1ByhS",resetBtn:"_3d86A",resetAnchor:"_2WvKc",verticalGutter:"24px",horizontalGutter:"48px",container:"_1ltEq",textContainer:"_2DxLe",sectionItem:"_2cYdf",infoSectionContainer:"_2Yvzu _2cYdf",descriptionContainer:"_10Trd _2cYdf",actionsContainer:"_31NE9",infoLink:"_2zq5F _2WvKc",locationLink:"_2RL3a _2zq5F _2WvKc",infoContainer:"_2tlpq",infoIcon:"_2y-ZM",infoLabel:"_2y85V",button:"_3JXJ6",editPhotoButtonContainer:"_1RttL",buttonIcon:"_1rYbs",buttonText:"_1efgd"}},pj8H:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a("q1tI"),n=a.n(o);const c=({date:e,format:t,className:a})=>n.a.createElement("time",{dateTime:e.toISOString(),title:e.toISOString(),className:a},t(e))},yNRK:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a("Wdkd"),n=a("K8Te");const c=[{title:"Public domain images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"public domain"})},{title:"Free stock photos",routeData:n.a.Category({type:"images",category:"stock"})},{title:"Creative Commons images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"creative common"})},{title:"PNG images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"png"})},{title:"Free images",routeData:n.a.Type({type:"images"})}].map(({title:e,routeData:t})=>({title:e,url:o.b.landingPage(t)}))}}]);
//# sourceMappingURL=photos-route.334e6.js.map