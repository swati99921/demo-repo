(window.webpackJsonp=window.webpackJsonp||[]).push([["search-photos-route"],{"7P6o":function(e,t,a){e.exports={headingXs:"_2uOAz _2956j _2jIq8 _1eXFm",colorWhite:"#fff",colorGrey400:"#d1d1d1",colorGrey700:"#767676",container:"_1koGJ",heading:"YLnkn _2uOAz _2956j _2jIq8 _1eXFm",body:"_1EXen",label:"pnpfj",ctaContainer:"_3PFBy"}},AlGm:function(e,t,a){"use strict";var c=a("GBJA");t.a=Object(c.a)("M16.3 3C9 3 3 9 3 16.3C3 23.6 9 29.6 16.3 29.6C23.7 29.6 29.6 23.6 29.6 16.3C29.6 9 23.7 3 16.3 3ZM13.8 22.6L8.7 17.5L10.7 15.5L13.8 18.6L21.6 10.8L23.6 12.8L13.8 22.6Z")},RhwO:function(e,t,a){e.exports={resetText:"_1eXFm",resetBtn:"_3d86A",truncate:"_1ByhS",colorWhite:"#fff",collectionsContainer:"_2f5Ws",heading:"_1YBF3",collectionTitle:"_2IA8r _1eXFm _1ByhS",details:"_1y1Td _1ByhS"}},SYQ3:function(e,t,a){e.exports={resetList:"_2Y-QM _1eXFm",truncate:"_1ByhS",heading:"rQtMp",keywordsList:"_296-Q _2Y-QM _1eXFm",keywordLinkIcon:"_1aT8y",keywordLink:"_2Ehsu",keyword:"SI5Tm _1ByhS"}},c5fr:function(e,t,a){e.exports={transitionSpeedBase:"0.1s",overlay:"_16--t",overlayContainer:"_11nq8",bgImg:"_2GF4Q"}},cve8:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var c=a("TSYQ"),o=a.n(c),r=a("SDew"),n=a("q1tI"),s=a.n(n),l=a("PCiO"),i=a("jRy8"),m=a("XdZB"),u=a("SqvM"),j=a("c5fr"),d=a.n(j);const b=({coverPhotoOption:e,className:t,children:a})=>{const c=Object(r.j)(e,i.x(e=>Object(l.d)({baseUrl:e.urls.raw,width:480,height:80})),i.x(e=>s.a.createElement(m.a,Object.assign({className:d.a.bgImg},e))),i.p(()=>s.a.createElement("div",{style:{height:80}})));return s.a.createElement(u.a,{behind:c,overlayClassName:o()(d.a.overlay,t),containerClassName:d.a.overlayContainer},a)}},pJjI:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return je}));var c,o=a("SDew"),r=a("B/Be"),n=a("15Rw"),s=a("q1tI"),l=a.n(s),i=a("/MKj"),m=a("b2r9"),u=a("acyj"),j=a("pq3u"),d=a("063O"),b=a("OM6L"),O=a("jRy8");!function(e){e.Editorial="editorial",e.KeywordSearch="keyword-search"}(c||(c={}));var h=a("mrSG"),y=a("I7gL"),k=a("55Ip"),p=a("aMqU"),w=a("C8EU"),g=a("acC3"),C=a("u+uw"),E=a("Ja2L"),_=a("RLZi"),f=a("Wdkd"),v=a("cve8"),S=a("TSYQ"),I=a.n(S),L=(a("PCiO"),a("jNAd"),a("RC4B"),a("zCdt"),a("7P6o")),x=a.n(L);const P=({children:e,className:t})=>l.a.createElement("div",{className:I()(x.a.container,t)},e),T=({children:e,className:t})=>l.a.createElement("h2",{className:I()(x.a.heading,t)},e);var q=a("RhwO"),F=a.n(q);const N=({collectionId:e,onClick:t})=>{const a=l.a.useMemo(()=>Object(C.g)(),[]),c=l.a.useCallback(()=>{t(e)},[t,e]),o=Object(w.a)(t=>Object(C.a)(t,e)),r=Object(w.a)(e=>Object(E.a)(e,o.userId)),n=Object(w.a)(e=>a(e,o.id));return l.a.createElement(k.a,{to:f.b.collectionFromEntity(o),onClick:c},l.a.createElement(v.a,{key:o.id,coverPhotoOption:n},l.a.createElement("h3",{className:F.a.collectionTitle},o.title),l.a.createElement("span",{className:F.a.details},Object(p.d)(o.total_photos)," ",Object(p.h)(o.total_photos)," Â· Curated by ",r.name)))},B=({collectionIds:e,tracking:t})=>{const a=Object(d.a)(),c=l.a.useCallback(c=>{a(m.a.TrackGridPromptClick(Object.assign(Object.assign({},t),{items:e,clickedItem:c})))},[t,e,a]);return l.a.createElement(P,null,l.a.createElement(T,{className:F.a.heading},"Related collections"),l.a.createElement("div",{className:F.a.collectionsContainer},Object(o.j)(e,b.x(e=>l.a.createElement(N,{key:e,collectionId:e,onClick:c})))))},D=e=>{var{maximumCollections:t,routeData:a}=e,c=Object(h.d)(e,["maximumCollections","routeData"]);const r=Object(g.b)(a),n=l.a.useMemo(_.c,[]),s=Object(w.a)(e=>n(e,r)),i=l.a.useMemo(()=>Object(o.j)(s,O.c(Object(o.e)(b.J(t),y.e))),[s,t]);return Object(o.j)(i,O.A(e=>l.a.createElement(B,Object.assign({collectionIds:e},c))))};var M=a("FUCK"),X=a("+11Q"),G=a("zPuE"),K=a("SYQ3"),Q=a.n(K);const R=({to:e,onClick:t,keyword:a})=>{const c=l.a.useCallback(()=>{t(a)},[a,t]);return l.a.createElement(k.a,{to:e,onClick:c,className:I()(Q.a.keywordLink,Object(G.b)({type:G.a.Outline}))},l.a.createElement(M.a,{className:Q.a.keywordLinkIcon}),l.a.createElement("span",{className:Q.a.keyword},a))},J=({keywords:e,tracking:t,makeSearchLink:a})=>{const c=Object(d.a)(),o=l.a.useCallback(a=>{c(m.a.TrackGridPromptClick(Object.assign(Object.assign({},t),{items:e,clickedItem:a})))},[c,e,t]);return l.a.createElement(P,null,l.a.createElement(T,{className:Q.a.heading},"Related searches"),l.a.createElement("ul",{className:Q.a.keywordsList},e.map(e=>l.a.createElement("li",{key:e},l.a.createElement(R,{to:a(e),onClick:o,keyword:e})))))},A=e=>{var{maximumKeywords:t,routeData:a}=e,c=Object(h.d)(e,["maximumKeywords","routeData"]);const{query:r,filters:n}=a,s=l.a.useMemo(X.a,[]),i=Object(w.a)(e=>s(e,r)),m=l.a.useCallback(e=>f.b.searchPhotos({query:e,filters:n}),[n]);return Object(o.j)(i,O.c(Object(o.e)(b.J(t),b.x(e=>e.title),y.e)),O.A(e=>l.a.createElement(J,Object.assign({keywords:e,makeSearchLink:m},c))))};var Y=a("pdjq");var U=a("cHeK"),z=a("uFXZ"),W=a("QH2T"),Z=a("3q9+"),H=a("JzW6"),V=a("D6yk"),$=a("mjVK"),ee=a("Nebv"),te=a("x5qg"),ae=a("r9If"),ce=a("JOe8"),oe=a("lS9m"),re=a("0K2+"),ne=a("V+UN"),se=a("G/bK");const le=e=>{const t=Object(o.j)(e,V.O(e=>e[0]),V.x()),a=Object(o.j)(e,V.O(e=>e[1]),V.x(ee.d)),c=Object(o.j)(e,V.O(e=>e[2]),V.x()),r=V.n([t,a]);return Object(o.j)(r,V.S(()=>Object(o.j)(c,V.o,V.D())))},ie=({photos:e,routeData:t})=>{const{filters:a,query:r}=t,n=l.a.useCallback(e=>Object(o.j)(ce.a.Union.Search(Object.assign(Object.assign({},e),{keywords:r,safety:!1,color:a.color,orderBy:a.orderBy,orientation:a.orientation})),O.F),[a.color,a.orderBy,a.orientation,r]),i=Object(s.useMemo)(()=>(({totalPhotos:e,routeData:t})=>a=>Object(o.j)([(()=>{const r=Object(o.j)(e,O.n(e=>e>=10),O.c(()=>Object(o.j)(a,Object(Y.a)({List:O.B,TwoColumns:O.F({column:1,row:2}),ThreeColumns:O.F({column:2,row:2})}))));return Object(o.j)(r,O.x(e=>({position:e,key:"related-collections",element:l.a.createElement(D,{routeData:t,maximumCollections:3,tracking:{promptId:"related-collections",placement:c.KeywordSearch,layout:a,position:e}})})))})(),(()=>{const r=Object(o.j)(e,O.n(e=>e>=10),O.c(()=>Object(o.j)(a,Object(Y.a)({List:O.B,TwoColumns:O.F({column:0,row:5}),ThreeColumns:O.F({column:0,row:5})}))));return Object(o.j)(r,O.x(e=>({position:e,key:"related-search-keywords",element:l.a.createElement(A,{routeData:t,maximumKeywords:8,tracking:{promptId:"related-search-keywords",placement:c.KeywordSearch,layout:a,position:e}})})))})()],b.c))({totalPhotos:e.length,routeData:t}),[e.length,t]);return l.a.createElement(ne.a,{photos:e,makePlacement:n,getFixedPlacementsForLayout:i})},me=({filters:e,query:t,searchXps:a},c)=>({page:r,perPage:n})=>Object(o.j)(U.a.search.getPhotos(Object.assign(Object.assign({},ee.h(e)),{query:t,searchXps:a,page:r,perPage:n})),z.a(u.a),H.g(([e])=>e),V.ob(Z.o(e=>{c(m.a.TrackGotSearchResults({startPosition:Object(re.e)({page:r,perPage:n}),photos:e.results.map(e=>e.id)}))}))),ue=Object(j.d)()(()=>{const e=Object(te.d)();return(t,{routeData:a})=>{const c=Object(g.c)(a.query,a.filters);return{searchXps:Object(ae.b)(t),photoFeedOption:e(t,c)}}});var je=Object(o.j)(({routeData:e,searchXps:t,photoFeedOption:a})=>{const c=Object(d.a)(),{query:s,filters:i}=e,u=Object(g.c)(s,i),b=Object(r.a)(le,[e.query,i,a]);return Object(n.a)(b,e=>{Object(o.j)([m.a.TrackGotInitialSearchResults(),m.a.TrackGotSearchResults({startPosition:1,photos:e.ids})],Object(j.a)(c))}),l.a.createElement("div",Object.assign({},Object($.a)(W.y)),l.a.createElement(oe.a,null,l.a.createElement(se.a,{feedId:u,fetchPhotos:me({query:s,searchXps:t,filters:i},c)},t=>l.a.createElement(ie,{photos:t,routeData:e}))))},Object(i.c)(ue))},pdjq:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a("QK6j");const o=e=>c.a.match({List:()=>e.List,Masonry:({columns:t})=>c.e.match(t,{Two:()=>e.TwoColumns,Three:()=>e.ThreeColumns})})}}]);
//# sourceMappingURL=search-photos-route.ee609.js.map